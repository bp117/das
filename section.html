import { useState } from 'react';
import Switch from '@mui/material/Switch';
import Box from '@mui/material/Box';
import IconButton from '@mui/material/IconButton';
import Tab from '@mui/material/Tab';
import Tabs from '@mui/material/Tabs';

// ... [Rest of your imports]

function PromptsTab({ prompts }) {
  const [tabValue, setTabValue] = useState('recommended');

  return (
    <div>
      <Tabs value={tabValue} onChange={(e, newValue) => setTabValue(newValue)}>
        <Tab value="recommended" label="Recommended" />
        <Tab value="custom" label="Custom" />
      </Tabs>
      {tabValue === 'recommended' && (
        <ul>
          {prompts.recommended.map((prompt, index) => (
            <li key={index}>{prompt}</li>
          ))}
        </ul>
      )}
      {tabValue === 'custom' && (
        <ul>
          {prompts.custom.map((prompt, index) => (
            <li key={index}>{prompt}</li>
          ))}
        </ul>
      )}
    </div>
  );
}

function ChatFooter({ chatInputText, setChatInputText }) {
  const [showPrompts, setShowPrompts] = useState(false);
  const prompts = {
    recommended: ['Prompt 1', 'Prompt 2'], 
    custom: ['Custom Prompt 1', 'Custom Prompt 2']
  };

  return (
    <div className="chat-footer">
      {showPrompts && <PromptsTab prompts={prompts} />}
      {/* Action Toolbar */}
      <div className="actions-toolbar">
        <Box display="flex" justifyContent="space-between" width="100%">
          {/* ... [Your IconButton components for actions] */}
        </Box>
      </div>
      {/* Form Container */}
      <form onSubmit={handleSubmit}>
        <textarea 
          name="prompt" 
          rows="1" 
          cols="1" 
          placeholder="Ask AI..." 
          value={chatInputText} 
          onChange={(e) => setChatInputText(e.target.value)}
        ></textarea>
        <IconButton onClick={() => setShowPrompts(!showPrompts)}>
          {/* Replace with an appropriate icon for showing/hiding prompts */}
          <Icon />
        </IconButton>
        <button type="submit"><img src="./send.svg" alt="send" /></button>
      </form>
    </div>
  );
}

function RiskChatExplorer({ chatInputText, setChatInputText }) {
  // ... [Existing component body]

  return (
    <div id="app">
      {/* ... [Rest of the chat explorer component] */}
      <ChatFooter chatInputText={chatInputText} setChatInputText={setChatInputText} />
    </div>
  );
}

          import { useState } from 'react';
import Switch from '@mui/material/Switch';
import Box from '@mui/material/Box';
import IconButton from '@mui/material/IconButton';
import Tab from '@mui/material/Tab';
import Tabs from '@mui/material/Tabs';

// ... [Rest of your imports]

function PromptsTab({ prompts }) {
  const [tabValue, setTabValue] = useState('recommended');

  return (
    <div>
      <Tabs value={tabValue} onChange={(e, newValue) => setTabValue(newValue)}>
        <Tab value="recommended" label="Recommended" />
        <Tab value="custom" label="Custom" />
      </Tabs>
      {tabValue === 'recommended' && (
        <ul>
          {prompts.recommended.map((prompt, index) => (
            <li key={index}>{prompt}</li>
          ))}
        </ul>
      )}
      {tabValue === 'custom' && (
        <ul>
          {prompts.custom.map((prompt, index) => (
            <li key={index}>{prompt}</li>
          ))}
        </ul>
      )}
    </div>
  );
}

function ChatFooter({ chatInputText, setChatInputText }) {
  const [showPrompts, setShowPrompts] = useState(false);
  const prompts = {
    recommended: ['Prompt 1', 'Prompt 2'], 
    custom: ['Custom Prompt 1', 'Custom Prompt 2']
  };

  return (
    <div className="chat-footer">
      {showPrompts && <PromptsTab prompts={prompts} />}
      {/* Action Toolbar */}
      <div className="actions-toolbar">
        <Box display="flex" justifyContent="space-between" width="100%">
          {/* ... [Your IconButton components for actions] */}
        </Box>
      </div>
      {/* Form Container */}
      <form onSubmit={handleSubmit}>
        <textarea 
          name="prompt" 
          rows="1" 
          cols="1" 
          placeholder="Ask AI..." 
          value={chatInputText} 
          onChange={(e) => setChatInputText(e.target.value)}
        ></textarea>
        <IconButton onClick={() => setShowPrompts(!showPrompts)}>
          {/* Replace with an appropriate icon for showing/hiding prompts */}
          <Icon />
        </IconButton>
        <button type="submit"><img src="./send.svg" alt="send" /></button>
      </form>
    </div>
  );
}

function RiskChatExplorer({ chatInputText, setChatInputText }) {
  // ... [Existing component body]

  return (
    <div id="app">
      {/* ... [Rest of the chat explorer component] */}
      <ChatFooter chatInputText={chatInputText} setChatInputText={setChatInputText} />
    </div>
  );
}

          function PromptsTab({ prompts }) {
  const [tabValue, setTabValue] = useState('recommended');

  return (
    <div style={{ borderTop: '1px solid gray', overflowY: 'auto', maxHeight: '200px' }}>
      <Tabs value={tabValue} onChange={(e, newValue) => setTabValue(newValue)}>
        <Tab value="recommended" label="Recommended" />
        <Tab value="custom" label="Custom" />
      </Tabs>
      <List dense>
        {(tabValue === 'recommended' ? prompts.recommended : prompts.custom).map((prompt, index) => (
          <ListItem key={index} style={{ backgroundColor: '#f7f7f7', margin: '5px 0' }}>
            <ListItemText primary={`${index + 1}. ${prompt}`} />
            <ListItemIcon>
              <NavigateNextIcon />
            </ListItemIcon>
          </ListItem>
        ))}
      </List>
    </div>
  );
}

function ChatFooter({ chatInputText, setChatInputText }) {
  const [showPrompts, setShowPrompts] = useState(false);
  const prompts = {
    recommended: ['Prompt 1', 'Prompt 2'], 
    custom: ['Custom Prompt 1', 'Custom Prompt 2']
  };

  return (
    <div className="chat-footer">
      {showPrompts && <PromptsTab prompts={prompts} />}
      {/* Action Toolbar */}
      <div className="actions-toolbar">
        <Box display="flex" justifyContent="space-between" width="100%">
          {/* ... [Your IconButton components for actions] */}
        </Box>
      </div>
      {/* Form Container */}
      <form onSubmit={handleSubmit} className="flex items-center">
        <textarea 
          name="prompt" 
          rows="1" 
          cols="1" 
          placeholder="Ask AI..." 
          value={chatInputText} 
          onChange={(e) => setChatInputText(e.target.value)}
        ></textarea>
        <IconButton onClick={() => setShowPrompts(!showPrompts)}>
          {/* Replace with an appropriate icon for showing/hiding prompts */}
          <Icon />
        </IconButton>
        <button type="submit"><img src="./send.svg" alt="send" /></button>
      </form>
    </div>
  );
}
async function handlePromptClick(prompt) {
  const botChat = {
    isAi: true,
    value: ' ',
    uniqueId: generateUniqueId(),
  };

  setChat([...chat, botChat]);

  try {
    const response = await fetch('https://codelab-agnb.onrender.com', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ prompt }),
    });

    const data = await response.json();
    const updatedChat = [...chat];
    const lastMessageIndex = updatedChat.length - 1;

    if (response.ok) {
      updatedChat[lastMessageIndex].value = data.bot.trim();
    } else {
      updatedChat[lastMessageIndex].value = "Something went wrong";
    }
    setChat(updatedChat);
  } catch (error) {
    console.error("Error sending the request:", error);
  }
}
function PromptsTab({ prompts }) {
  const [tabValue, setTabValue] = useState('recommended');

  return (
    <div style={{ borderTop: '1px solid gray', overflowY: 'auto', maxHeight: '200px' }}>
      {/* ... Tabs and Tab components ... */}
      <List dense>
        {(tabValue === 'recommended' ? prompts.recommended : prompts.custom).map((prompt, index) => (
          <ListItem 
            key={index} 
            style={{ backgroundColor: '#f7f7f7', margin: '5px 0' }}
            onClick={() => handlePromptClick(prompt)} 
          >
            <ListItemText primary={`${index + 1}. ${prompt}`} />
            <ListItemIcon>
              <NavigateNextIcon />
            </ListItemIcon>
          </ListItem>
        ))}
      </List>
    </div>
  );
}
.................new prompts....................
          const [showSaveModal, setShowSaveModal] = useState(false);
const [saveInputValue, setSaveInputValue] = useState('');
const handleSavePrompt = () => {
  let savedPrompts = localStorage.getItem('savedPrompts');
  savedPrompts = savedPrompts ? JSON.parse(savedPrompts) : [];
  savedPrompts.push(saveInputValue);

  localStorage.setItem('savedPrompts', JSON.stringify(savedPrompts));
  
  // Update your custom prompts state with this new savedPrompt
  setCustomPrompts([...customPrompts, saveInputValue]);

  setSaveInputValue(''); // Clear the input field
  setShowSaveModal(false); // Hide the modal
};
import Dialog from '@mui/material/Dialog';
import DialogActions from '@mui/material/DialogActions';
import DialogContent from '@mui/material/DialogContent';
import DialogContentText from '@mui/material/DialogContentText';
import DialogTitle from '@mui/material/DialogTitle';
import TextField from '@mui/material/TextField';
import Button from '@mui/material/Button';

// Inside your component's return statement

<Dialog open={showSaveModal} onClose={() => setShowSaveModal(false)}>
  <DialogTitle>Save Prompt</DialogTitle>
  <DialogContent>
    <DialogContentText>
      Enter your prompt to save it for future reference.
    </DialogContentText>
    <TextField
      autoFocus
      margin="dense"
      label="Prompt"
      type="text"
      fullWidth
      value={saveInputValue}
      onChange={e => setSaveInputValue(e.target.value)}
    />
  </DialogContent>
  <DialogActions>
    <Button onClick={() => setShowSaveModal(false)} color="primary">
      Cancel
    </Button>
    <Button onClick={handleSavePrompt} color="primary">
      Save
    </Button>
  </DialogActions>
</Dialog>
import SaveIcon from '@mui/icons-material/Save';

// In the form section:

<form onSubmit={handleSubmit}>
  <Switch {...switchProps} />
  <textarea 
    name="prompt" 
    rows="1" 
    cols="1" 
    placeholder="Ask AI..." 
    value={chatInputText} 
    onChange={(e) => setChatInputText(e.target.value)}
  />
  <IconButton type="submit">
    <SendIcon />
  </IconButton>
  <IconButton onClick={() => setShowSaveModal(true)}>
    <SaveIcon />
  </IconButton>
</form>
const [customPrompts, setCustomPrompts] = useState([]);

useEffect(() => {
  const savedPrompts = localStorage.getItem('savedPrompts');
  if (savedPrompts) {
    setCustomPrompts(JSON.parse(savedPrompts));
  }
}, []);
function handlePromptClick(prompt) {
  setChatInputText(prompt);
}

